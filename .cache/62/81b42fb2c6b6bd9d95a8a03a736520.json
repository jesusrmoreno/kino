{"id":"src/components/Editor/indexv2.js","dependencies":[{"name":"/Users/expero/Projects/omoikane/.babelrc","includedInParent":true,"mtime":1571689829727},{"name":"/Users/expero/Projects/omoikane/package.json","includedInParent":true,"mtime":1575115310107},{"name":"react","loc":{"line":1,"column":57},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/node_modules/react/index.js"},{"name":"styled-components","loc":{"line":3,"column":19},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/node_modules/styled-components/dist/styled-components.browser.esm.js"},{"name":"slate-plain-serializer","loc":{"line":4,"column":18},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/node_modules/slate-plain-serializer/lib/slate-plain-serializer.es.js"},{"name":"./NoDocument","loc":{"line":5,"column":23},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/components/Editor/NoDocument.js"},{"name":"components/Editor/Editorbar","loc":{"line":6,"column":22},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/components/Editor/Editorbar/index.js"},{"name":"components/Editor/Footer","loc":{"line":7,"column":19},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/components/Editor/Footer/index.js"},{"name":"./Editor","loc":{"line":8,"column":19},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/components/Editor/Editor.js"},{"name":"./useAutoSave","loc":{"line":9,"column":24},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/components/Editor/useAutoSave.js"},{"name":"./blocks/ImageBlock","loc":{"line":10,"column":23},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/components/Editor/blocks/ImageBlock/index.js"},{"name":"state/documents","loc":{"line":11,"column":49},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/src/state/documents.js"},{"name":"slate","loc":{"line":12,"column":22},"parent":"/Users/expero/Projects/omoikane/src/components/Editor/indexv2.js","resolved":"/Users/expero/Projects/omoikane/node_modules/slate/lib/index.es.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _slatePlainSerializer = _interopRequireDefault(require(\"slate-plain-serializer\"));\n\nvar _NoDocument = _interopRequireDefault(require(\"./NoDocument\"));\n\nvar _Editorbar = _interopRequireDefault(require(\"components/Editor/Editorbar\"));\n\nvar _Footer = _interopRequireDefault(require(\"components/Editor/Footer\"));\n\nvar _Editor = _interopRequireDefault(require(\"./Editor\"));\n\nvar _useAutoSave = _interopRequireDefault(require(\"./useAutoSave\"));\n\nvar _ImageBlock = _interopRequireDefault(require(\"./blocks/ImageBlock\"));\n\nvar _documents = require(\"state/documents\");\n\nvar _slate = require(\"slate\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst initialValue = _slatePlainSerializer.default.deserialize(`The man always sat in the same seat, the stool farthest down from the counter. When it wasn't occupied, that is, but it was nearly always free. The bar was seldom crowded, and that particular seat was the most inconspicuous and the least comfortable. A staircase in the back made the ceiling slanted and low, so it was hard to stand up there without bumping your head. The man was tall yet, for some reason, preferred that cramped, narrow spot.\n\nKino remembered the first time the man had come to his bar. HIs appearance had immediately caught Kino's eye -- the blueish shaved head, the thing build yet broad shoulders, the keen glint in his eye, the prominent cheekbones and wide forehead. He looked to be in his early thirties, and he wore a long gray raincoat, though it wasn't raining. At first, Kino tagged him as a yakuza, and was on his guard around him. It was seven-thirty, on a chilly mid-April evening, and the bar was empty. The man chose the seat at the end of the counter, took off his coat, and in a quiet voice ordered a beer, then silently read a thick book. After half an hour, finished with the beer, he raised his hand an inch or two to motion Kino over, and ordered a whiskey. \"Which brand?\" Kino asked, but the man said he had no preference. \n\n\"Just an ordinary sort of Scotch, A double. Add an equal amount of water and a little bit of ice, if you would.\" \n\nKino poured some White label into a glass, added the same amount of water and two small, nicely formed ice cubes. The man took a sip, scrutinized the glass, and narrowed his eyes. \"This will do fine.\"\n\nHe read for another half hour, then stood up and paid his bill in cash. He counted out exact change so that he wouldn't get any coins back. Kino breathed a small sigh of relief as soon as he was out the door. But after the man left his presence remained. As Kino stood behind the counter, he glanced up occasionally at the seat the man had occupied, half expecting him still to be there, raising his hand a couple of inches to order something.\n\nThe man began coming regularly to Kino's bar. Once, at most twice, a week. He would invariably have a beer first, then a whiskey. Sometimes he would study the day's menu on the blackboard and order a light meal. \n`);\n\nconst Container = _styledComponents.default.div`\n  height: 100vh;\n  width: 480px;\n\n  background: white;\n\n  overflow: hidden;\n  z-index: 999999;\n  flex-shrink: 0;\n\n  display: flex;\n  flex-direction: column;\n`;\nconst stopKeys = {\n  Enter: true,\n  Tab: true\n};\nconst EditorWrapper = _styledComponents.default.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: white;\n  border-left: solid 0.8px #e3e3e3;\n`;\n\nconst DocumentEditor = ({\n  documentId = \"asdf\",\n  setDocumentId\n}) => {\n  const [value, setValue] = (0, _react.useState)(_slatePlainSerializer.default.deserialize(\"\"));\n  const [title, setTitle] = (0, _react.useState)(\"\"); // const [value, title, updateTitle, updateValue] = useDocument();\n  // console.log('re-render')\n\n  return _react.default.createElement(Container, null, !documentId ? _react.default.createElement(_NoDocument.default, {\n    onDocumentSelect: setDocumentId\n  }) : _react.default.createElement(EditorWrapper, null, _react.default.createElement(_Editor.default, {\n    title: title,\n    onTitleChange: t => setTitle(t),\n    value: value,\n    onChange: ({\n      value: v\n    }) => {\n      setValue(v);\n      (0, _documents.writeItem)({\n        value: v.toJSON(),\n        title\n      });\n    }\n  })));\n};\n\nvar _default = DocumentEditor;\nexports.default = _default;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":3,"column":0}},{"generated":{"line":12,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":4,"column":0}},{"generated":{"line":14,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":5,"column":0}},{"generated":{"line":16,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":6,"column":0}},{"generated":{"line":18,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":7,"column":0}},{"generated":{"line":20,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":8,"column":0}},{"generated":{"line":22,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":9,"column":0}},{"generated":{"line":24,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":10,"column":0}},{"generated":{"line":26,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":11,"column":0}},{"generated":{"line":28,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":12,"column":0}},{"generated":{"line":36,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":0}},{"name":"initialValue","generated":{"line":36,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":6}},{"generated":{"line":36,"column":18},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":18}},{"name":"Plain","generated":{"line":36,"column":21},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":21}},{"name":"deserialize","generated":{"line":36,"column":51},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":27}},{"generated":{"line":36,"column":62},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":21}},{"generated":{"line":36,"column":63},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":40}},{"generated":{"line":47,"column":1},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":21}},{"generated":{"line":47,"column":2},"source":"src/components/Editor/indexv2.js","original":{"line":14,"column":0}},{"generated":{"line":49,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":0}},{"name":"Container","generated":{"line":49,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":6}},{"generated":{"line":49,"column":15},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":15}},{"name":"styled","generated":{"line":49,"column":18},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":18}},{"name":"div","generated":{"line":49,"column":44},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":25}},{"generated":{"line":49,"column":47},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":29}},{"generated":{"line":61,"column":1},"source":"src/components/Editor/indexv2.js","original":{"line":27,"column":0}},{"generated":{"line":62,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":0}},{"name":"stopKeys","generated":{"line":62,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":6}},{"generated":{"line":62,"column":14},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":14}},{"generated":{"line":62,"column":17},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":17}},{"name":"Enter","generated":{"line":63,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":42,"column":2}},{"name":"Enter","generated":{"line":63,"column":2},"source":"src/components/Editor/indexv2.js","original":{"line":42,"column":2}},{"generated":{"line":63,"column":7},"source":"src/components/Editor/indexv2.js","original":{"line":42,"column":7}},{"generated":{"line":63,"column":9},"source":"src/components/Editor/indexv2.js","original":{"line":42,"column":9}},{"generated":{"line":63,"column":13},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":17}},{"name":"Tab","generated":{"line":64,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":43,"column":2}},{"name":"Tab","generated":{"line":64,"column":2},"source":"src/components/Editor/indexv2.js","original":{"line":43,"column":2}},{"generated":{"line":64,"column":5},"source":"src/components/Editor/indexv2.js","original":{"line":43,"column":5}},{"generated":{"line":64,"column":7},"source":"src/components/Editor/indexv2.js","original":{"line":43,"column":7}},{"generated":{"line":65,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":17}},{"generated":{"line":65,"column":1},"source":"src/components/Editor/indexv2.js","original":{"line":41,"column":0}},{"generated":{"line":66,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":0}},{"name":"EditorWrapper","generated":{"line":66,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":6}},{"generated":{"line":66,"column":19},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":19}},{"name":"styled","generated":{"line":66,"column":22},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":22}},{"name":"div","generated":{"line":66,"column":48},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":29}},{"generated":{"line":66,"column":51},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":33}},{"generated":{"line":73,"column":1},"source":"src/components/Editor/indexv2.js","original":{"line":46,"column":0}},{"generated":{"line":75,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":0}},{"name":"DocumentEditor","generated":{"line":75,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":6}},{"generated":{"line":75,"column":20},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":20}},{"generated":{"line":75,"column":23},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":23}},{"generated":{"line":75,"column":24},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":24}},{"name":"documentId","generated":{"line":76,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":26}},{"name":"documentId","generated":{"line":76,"column":2},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":26}},{"generated":{"line":76,"column":12},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":36}},{"generated":{"line":76,"column":15},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":39}},{"generated":{"line":76,"column":21},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":24}},{"name":"setDocumentId","generated":{"line":77,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":47}},{"name":"setDocumentId","generated":{"line":77,"column":2},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":47}},{"generated":{"line":78,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":24}},{"generated":{"line":78,"column":1},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":23}},{"generated":{"line":78,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":67}},{"generated":{"line":79,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":2}},{"generated":{"line":79,"column":8},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":8}},{"name":"value","generated":{"line":79,"column":9},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":9}},{"generated":{"line":79,"column":14},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":8}},{"name":"setValue","generated":{"line":79,"column":16},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":16}},{"generated":{"line":79,"column":24},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":8}},{"generated":{"line":79,"column":28},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":28}},{"name":"Plain","generated":{"line":79,"column":49},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":37}},{"name":"deserialize","generated":{"line":79,"column":79},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":43}},{"generated":{"line":79,"column":90},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":37}},{"generated":{"line":79,"column":91},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":55}},{"generated":{"line":79,"column":93},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":37}},{"generated":{"line":79,"column":94},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":28}},{"generated":{"line":79,"column":95},"source":"src/components/Editor/indexv2.js","original":{"line":56,"column":2}},{"generated":{"line":80,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":2}},{"generated":{"line":80,"column":8},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":8}},{"name":"title","generated":{"line":80,"column":9},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":9}},{"generated":{"line":80,"column":14},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":8}},{"name":"setTitle","generated":{"line":80,"column":16},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":16}},{"generated":{"line":80,"column":24},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":8}},{"generated":{"line":80,"column":28},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":28}},{"generated":{"line":80,"column":49},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":37}},{"generated":{"line":80,"column":51},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":28}},{"generated":{"line":80,"column":52},"source":"src/components/Editor/indexv2.js","original":{"line":57,"column":2}},{"generated":{"line":80,"column":53},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":67}},{"generated":{"line":80,"column":54},"source":"src/components/Editor/indexv2.js","original":{"line":59,"column":2}},{"generated":{"line":81,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":60,"column":2}},{"generated":{"line":83,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":61,"column":2}},{"generated":{"line":83,"column":9},"source":"src/components/Editor/indexv2.js","original":{"line":62,"column":4}},{"generated":{"line":83,"column":38},"source":"src/components/Editor/indexv2.js","original":{"line":62,"column":5}},{"generated":{"line":83,"column":47},"source":"src/components/Editor/indexv2.js","original":{"line":62,"column":4}},{"generated":{"line":83,"column":55},"source":"src/components/Editor/indexv2.js","original":{"line":63,"column":7}},{"name":"documentId","generated":{"line":83,"column":56},"source":"src/components/Editor/indexv2.js","original":{"line":63,"column":8}},{"generated":{"line":83,"column":66},"source":"src/components/Editor/indexv2.js","original":{"line":63,"column":7}},{"generated":{"line":83,"column":69},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":8}},{"generated":{"line":83,"column":98},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":9}},{"generated":{"line":83,"column":117},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":8}},{"generated":{"line":84,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":20}},{"generated":{"line":84,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":20}},{"generated":{"line":84,"column":20},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":36}},{"name":"setDocumentId","generated":{"line":84,"column":22},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":38}},{"generated":{"line":85,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":64,"column":8}},{"generated":{"line":85,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":63,"column":7}},{"generated":{"line":85,"column":7},"source":"src/components/Editor/indexv2.js","original":{"line":66,"column":8}},{"generated":{"line":85,"column":36},"source":"src/components/Editor/indexv2.js","original":{"line":66,"column":9}},{"generated":{"line":85,"column":49},"source":"src/components/Editor/indexv2.js","original":{"line":66,"column":8}},{"generated":{"line":85,"column":57},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":10}},{"generated":{"line":85,"column":86},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":11}},{"generated":{"line":85,"column":101},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":10}},{"generated":{"line":86,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":68,"column":12}},{"generated":{"line":86,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":68,"column":12}},{"generated":{"line":86,"column":9},"source":"src/components/Editor/indexv2.js","original":{"line":68,"column":17}},{"name":"title","generated":{"line":86,"column":11},"source":"src/components/Editor/indexv2.js","original":{"line":68,"column":19}},{"generated":{"line":86,"column":16},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":10}},{"generated":{"line":87,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":12}},{"generated":{"line":87,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":12}},{"generated":{"line":87,"column":17},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":25}},{"name":"t","generated":{"line":87,"column":19},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":27}},{"generated":{"line":87,"column":20},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":28}},{"name":"setTitle","generated":{"line":87,"column":24},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":32}},{"generated":{"line":87,"column":32},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":40}},{"name":"t","generated":{"line":87,"column":33},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":41}},{"generated":{"line":87,"column":34},"source":"src/components/Editor/indexv2.js","original":{"line":69,"column":40}},{"generated":{"line":87,"column":35},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":10}},{"generated":{"line":88,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":70,"column":12}},{"generated":{"line":88,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":70,"column":12}},{"generated":{"line":88,"column":9},"source":"src/components/Editor/indexv2.js","original":{"line":70,"column":17}},{"name":"value","generated":{"line":88,"column":11},"source":"src/components/Editor/indexv2.js","original":{"line":70,"column":19}},{"generated":{"line":88,"column":16},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":10}},{"generated":{"line":89,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":12}},{"generated":{"line":89,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":12}},{"generated":{"line":89,"column":12},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":20}},{"generated":{"line":89,"column":14},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":22}},{"generated":{"line":89,"column":15},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":23}},{"name":"value","generated":{"line":90,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":25}},{"name":"value","generated":{"line":90,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":25}},{"generated":{"line":90,"column":11},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":30}},{"name":"v","generated":{"line":90,"column":13},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":32}},{"generated":{"line":91,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":23}},{"generated":{"line":91,"column":5},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":22}},{"generated":{"line":91,"column":10},"source":"src/components/Editor/indexv2.js","original":{"line":71,"column":40}},{"name":"setValue","generated":{"line":92,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":72,"column":14}},{"name":"setValue","generated":{"line":92,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":72,"column":14}},{"generated":{"line":92,"column":14},"source":"src/components/Editor/indexv2.js","original":{"line":72,"column":22}},{"name":"v","generated":{"line":92,"column":15},"source":"src/components/Editor/indexv2.js","original":{"line":72,"column":23}},{"generated":{"line":92,"column":16},"source":"src/components/Editor/indexv2.js","original":{"line":72,"column":22}},{"generated":{"line":92,"column":17},"source":"src/components/Editor/indexv2.js","original":{"line":72,"column":14}},{"generated":{"line":93,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":14}},{"generated":{"line":93,"column":32},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":24}},{"name":"value","generated":{"line":94,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":26}},{"name":"value","generated":{"line":94,"column":8},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":26}},{"generated":{"line":94,"column":13},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":31}},{"name":"v","generated":{"line":94,"column":15},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":33}},{"generated":{"line":94,"column":16},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":34}},{"name":"toJSON","generated":{"line":94,"column":17},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":35}},{"generated":{"line":94,"column":23},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":33}},{"generated":{"line":94,"column":25},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":24}},{"name":"title","generated":{"line":95,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":45}},{"name":"title","generated":{"line":95,"column":8},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":45}},{"generated":{"line":96,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":24}},{"generated":{"line":96,"column":7},"source":"src/components/Editor/indexv2.js","original":{"line":73,"column":14}},{"generated":{"line":97,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":74,"column":13}},{"generated":{"line":98,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":67,"column":10}},{"generated":{"line":98,"column":4},"source":"src/components/Editor/indexv2.js","original":{"line":66,"column":8}},{"generated":{"line":98,"column":5},"source":"src/components/Editor/indexv2.js","original":{"line":62,"column":4}},{"generated":{"line":98,"column":6},"source":"src/components/Editor/indexv2.js","original":{"line":61,"column":2}},{"generated":{"line":99,"column":0},"source":"src/components/Editor/indexv2.js","original":{"line":80,"column":1}},{"generated":{"line":99,"column":1},"source":"src/components/Editor/indexv2.js","original":{"line":55,"column":0}},{"name":"DocumentEditor","generated":{"line":101,"column":15},"source":"src/components/Editor/indexv2.js","original":{"line":82,"column":15}}],"sources":{"src/components/Editor/indexv2.js":"import React, { useState, useRef, useLayoutEffect } from \"react\";\n\nimport styled from \"styled-components\";\nimport Plain from \"slate-plain-serializer\";\nimport NoDocument from \"./NoDocument\";\nimport Editorbar from \"components/Editor/Editorbar\";\nimport Footer from \"components/Editor/Footer\";\nimport Editor from \"./Editor\";\nimport useAutoSave from \"./useAutoSave\";\nimport ImageBlock from \"./blocks/ImageBlock\";\nimport { useSelectedDocumentId, writeItem } from \"state/documents\";\nimport { Value } from \"slate\";\n\nconst initialValue = Plain.deserialize(`The man always sat in the same seat, the stool farthest down from the counter. When it wasn't occupied, that is, but it was nearly always free. The bar was seldom crowded, and that particular seat was the most inconspicuous and the least comfortable. A staircase in the back made the ceiling slanted and low, so it was hard to stand up there without bumping your head. The man was tall yet, for some reason, preferred that cramped, narrow spot.\n\nKino remembered the first time the man had come to his bar. HIs appearance had immediately caught Kino's eye -- the blueish shaved head, the thing build yet broad shoulders, the keen glint in his eye, the prominent cheekbones and wide forehead. He looked to be in his early thirties, and he wore a long gray raincoat, though it wasn't raining. At first, Kino tagged him as a yakuza, and was on his guard around him. It was seven-thirty, on a chilly mid-April evening, and the bar was empty. The man chose the seat at the end of the counter, took off his coat, and in a quiet voice ordered a beer, then silently read a thick book. After half an hour, finished with the beer, he raised his hand an inch or two to motion Kino over, and ordered a whiskey. \"Which brand?\" Kino asked, but the man said he had no preference. \n\n\"Just an ordinary sort of Scotch, A double. Add an equal amount of water and a little bit of ice, if you would.\" \n\nKino poured some White label into a glass, added the same amount of water and two small, nicely formed ice cubes. The man took a sip, scrutinized the glass, and narrowed his eyes. \"This will do fine.\"\n\nHe read for another half hour, then stood up and paid his bill in cash. He counted out exact change so that he wouldn't get any coins back. Kino breathed a small sigh of relief as soon as he was out the door. But after the man left his presence remained. As Kino stood behind the counter, he glanced up occasionally at the seat the man had occupied, half expecting him still to be there, raising his hand a couple of inches to order something.\n\nThe man began coming regularly to Kino's bar. Once, at most twice, a week. He would invariably have a beer first, then a whiskey. Sometimes he would study the day's menu on the blackboard and order a light meal. \n`);\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 480px;\n\n  background: white;\n\n  overflow: hidden;\n  z-index: 999999;\n  flex-shrink: 0;\n\n  display: flex;\n  flex-direction: column;\n`;\n\nconst stopKeys = {\n  Enter: true,\n  Tab: true\n};\n\nconst EditorWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: white;\n  border-left: solid 0.8px #e3e3e3;\n`;\n\nconst DocumentEditor = ({ documentId = \"asdf\", setDocumentId }) => {\n  const [value, setValue] = useState(Plain.deserialize(\"\"));\n  const [title, setTitle] = useState(\"\");\n\n  // const [value, title, updateTitle, updateValue] = useDocument();\n  // console.log('re-render')\n  return (\n    <Container>\n      {!documentId ? (\n        <NoDocument onDocumentSelect={setDocumentId} />\n      ) : (\n        <EditorWrapper>\n          <Editor\n            title={title}\n            onTitleChange={t => setTitle(t)}\n            value={value}\n            onChange={({ value: v }) => {\n              setValue(v);\n              writeItem({ value: v.toJSON(), title });\n            }}\n          />\n        </EditorWrapper>\n      )}\n    </Container>\n  );\n};\n\nexport default DocumentEditor;\n"},"lineCount":null}},"error":null,"hash":"d00273d145a7574b90ae3b950c64976a","cacheData":{"env":{}}}